<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cairon – Testeo</title>

  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="css/tokens.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/forms.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/timer.css">
  <link rel="stylesheet" href="css/utilities.css">
  <link rel="stylesheet" href="css/cardrows.css">
</head>

<body>
  <header id="banner">
    <h1>CAIRON</h1>
    <time id="globalClock" aria-live="polite">00:00</time>
  </header>

  <main>
    <section id="stepSession" class="card active" data-step="1">
      <h2>Crear Sesión</h2>
      <form id="sessionForm" autocomplete="off">
        <div class="grid">
    
          <label>Número de Test
            <input id="testNumber" type="number" min="1" max="999" placeholder="1" required>
          </label>
    
          <label>Número de Partida
            <input id="gameNumber" type="number" min="1" max="999" placeholder="1" required>
          </label>
    
          <label>ID de Sesión
            <input id="sessionId" type="text" readonly placeholder="T000-P000">
          </label>
    
          <label>Número de Jugadores
            <select id="numPlayers" required>
              <option value="" disabled selected>—</option>
              <option>2</option><option>3</option><option>4</option>
              <option>5</option><option>6</option><option>7</option><option>8</option>
            </select>
          </label>
    
          <label>Fecha
            <input id="sessionDate" type="date" required>
          </label>
    
          <div class="timerWrapper">
            <span class="fake-label">⠀</span> <!-- invisible label for alignment -->
            <div class="timerBlock">
              <button id="btnSessionToggle" type="button" title="⌘/Ctrl + S">
                Iniciar Sesión
              </button>
            </div>
          </div>
        </div>
      </form>
    </section>
    

    <!-- Paso 2: Registrar Turno -->
    <section id="stepTurn" class="card" data-step="2">
      <h2>Registrar Turno</h2>
      <form id="turnForm" autocomplete="off">
        <!-- Información básica -->
        <div class="grid">
          <label>Número de Turno
            <input id="turnNo" readonly>
          </label>
          <label>Jugador
            <select id="playerSelect"></select>
          </label>
          <div class="timerBlock">
            <span id="turnClock">0 s</span>
            <button id="btnTurnToggle" type="button" title="Espacio">Iniciar</button>
          </div>
        </div>

        <!-- Grupo 1: Criatura y Efectos -->
        <fieldset class="group" id="creatureGroup">
          <legend>Criaturas</legend>
          <div id="creatureList"></div>
          <button type="button" id="btnAddCreature">+ Añadir Criatura</button>
        </fieldset>

        <!-- Grupo 2: Poderes y Desastres -->
        <fieldset class="group" id="specialGroup">
          <legend>Especiales</legend>
          <div id="specialList"></div>
          <button type="button" id="btnAddSpecial">+ Añadir Especial</button>
        </fieldset>

        <!-- Notas -->
        <div class="notes-block">
          <label>Notas (opcional)
            <textarea id="turnNotes" rows="4" placeholder="Comentarios…"></textarea>
          </label>
        </div>

        <!-- Botón Guardar -->
        <button id="btnSaveTurn" class="wide" type="button" title="Enter" disabled>
          Guardar Turno
        </button>
      </form>
    </section>

    <!-- Historial de turnos -->
    <section id="historyCard" class="card hidden">
      <h2>Historial</h2>
      <table id="turnTable">
        <thead></thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <!-- Notificaciones -->
  <div id="toast"></div>

  <!-- Scripts -->
  <script src="libs/FileSaver.min.js"></script>
  <script type="module" src="scripts/main.js"></script>
</body>
</html>


<!-- In Windows, refresh cache with ctrl+F5 -->